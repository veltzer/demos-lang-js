<!--
	This is a demo of using the jQuery API for parsing JSON.
	This API wraps the HTML5 API for JSON (window.JSON) on browsers
	that support it. When the browser does not support window.JSON it
	falls back to an internal jQuery JSON parser.

				Mark Veltzer
-->
<html>
	<head>
		<script src='/jquery.js'></script>
		<script>
			$(document).ready(function() {
				$('#goodjson').click(function() {
					var obj=$.parseJSON('{name:"John"}');
					$('#result_name').text(obj.name);
					$('#result_type').text(typeof(obj));
				});
				$('#badjson').click(function() {
					// there is a bug in the JSON string on purpose...
					try {
						$.parseJSON('{name:"John"');
					}
					catch(err) {
						console.log(err);
					}
				});
			});
		</script>
	</head>
	<body>
		<button id='goodjson'>Push me to parse good JSON</button>
		<button id='badjson'>Push me to parse bad JSON!</button>
		<div id='result_name'></div>
		<div id='result_type'></div>
	</body>
</html>
