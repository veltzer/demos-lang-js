<!DOCTYPE html>
<!--
	This example shows inheritance using dojo.

	Notes:
	- this.inherited(arguments) will call parent with same arguments.
	- this.inherited(arguments,[real arguments]) will call parent with whatever arguments you want.

	FLAGS: NOTIDY
-->
<html>
	<head>
		<title>Object Oriented with dojo</title>
		<script src="../toolkits/dojo/dojo/dojo.js" dj-config="parseOnLoad:true"></script>
		<link rel="stylesheet" href="../toolkits/dojo/dijit/themes/tundra/tundra.css"/>
		<link rel="stylesheet" href="../toolkits/dojo/dojo/resources/dojo.css"/>
		<script>
			// this is a three argument version of dojo.declare
			// first argument: the name of the new "class"
			// second argument: parents. null or [] means none.
			// third arguments: methods and data.
			/*global Person,Employee*/
			dojo.declare("Person",null,{
				constructor: function(iname) {
					this.name=iname;
				},
				setName: function(iname) {
					this.name=iname;
				},
				getName: function() {
					return this.name;
				},
				doSomething: function(data) {
					console.log("Person doing something with "+data);
				},
			});
			dojo.declare("Employee",[Person],{
				constructor: function(iname,isalary) {
					this.inherited(arguments,[iname]);
					this.salary=isalary;
				},
				setSalary: function(isalary) {
					this.salary=isalary;
				},
				getSalary: function() {
					return this.salary;
				},
				doSomething: function(data) {
					this.inherited(arguments);
					console.log("Employee doing something with "+data);
				},
			});
			// lets see if it works...
			var p=new Person("mark");
			var e=new Employee("shay",4);
			console.log(p);
			console.log(e);
			p.doSomething("data1");
			e.doSomething("data2");
		</script>
	</head>
	<body class="tundra">
	</body>
</html>
