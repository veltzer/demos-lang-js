<!DOCTYPE html>
<!--
	A demo showing how to create a widget that fires a custom event.
	This example also shows how to handle that event.
-->
<html>
	<head>
		<title>Defining your own button with custom event</title>
		<link rel="stylesheet" href="../../../toolkits/extjs/resources/css/ext-all.css"/>
		<script src="../../../toolkits/extjs/ext-all.js"></script>
		<script>
			Ext.onReady(function() {
				// this is the definers code
				Ext.define("MyPkg.Button", {
					extend: "Ext.button.Button",
					initComponent: function() {
						this.callParent(arguments);
						this.addEvents("buy");
					},
					handler: function() {
						this.fireEvent("buy",42);
					},
				});
				// this is the users code
				Ext.create("MyPkg.Button",{
					text: "Buy button",
					renderTo: Ext.getBody(),
					listeners: {
						buy: function(e,d) {
							console.log(this,e,d);
						},
					}
				});
			});
		</script>
	</head>
	<body>
	</body>
</html>
